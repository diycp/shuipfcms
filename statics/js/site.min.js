//页面加载
$('body').show();
$(".carousel-inner").find("div.item").filter(":first-child").addClass("active");
$(".carousel-indicators").find("li").filter(":first-child").addClass("active");
// jQuery(".scroll").slide({
// 	mainCell:".bd ul",
// 	autoPlay:true,
// 	effect:"leftMarquee",
// 	vis:4,
// 	interTime:50,
// 	trigger:"click"
// });
$(".list-goods").hover(function(){
	$(this).find(".goods-place").stop().slideDown(500);
},function(){
	$(this).find(".goods-place").stop().slideUp(500);
});
$('.version').text(NProgress.version);
NProgress.start();
setTimeout(function() {
	NProgress.done();
	$('.fade').removeClass('out');
}, 1000);
//返回顶部按钮
$(function() {
	$(window).scroll(function() {
		if ($(window).scrollTop() > 100) {
			$(".gotop").fadeIn();
		} else {
			$(".gotop").hide();
		}
	});
	$(".gotop").click(function() {
		$('html,body').animate({
			'scrollTop' : 0
		}, 500);
	});

	$('[data-toggle="popover"]').popover();

	$('[data-toggle="tooltip"]').tooltip();
});
//鼠标滑过显示 滑离隐藏
$(function() {
	$(".carousel").hover(function() {
		$(this).find(".carousel-control").show();
	}, function() {
		$(this).find(".carousel-control").hide();
	});
	$(".hot-content ul li").hover(function() {
		$(this).find("h3").show();
	}, function() {
		$(this).find("h3").hide();
	});
	//启动页面智能定位
	$("#search").smartFloat();
});
//页面元素智能定位
$.fn.smartFloat = function() {
	var position = function(element) {
		var top = element.position().top; //当前元素对象element距离浏览器上边缘的距离 
		var pos = element.css("position"); //当前元素距离页面document顶部的距离
		$(window).scroll(function() { //侦听滚动时 
			var scrolls = $(this).scrollTop();
			if (scrolls > top) { //如果滚动到页面超出了当前元素element的相对页面顶部的高度 
				if (window.XMLHttpRequest) { //如果不是ie6 
					element.css({ //设置css 
						position : "fixed", //固定定位,即不再跟随滚动 
						top : 0
					//距离页面顶部为0 
					}).addClass("shadow"); //加上阴影样式.shadow 
				} else { //如果是ie6 
					element.css({
						top : scrolls
					//与页面顶部距离 
					});
				}
			} else {
				element.css({ //如果当前元素element未滚动到浏览器上边缘，则使用默认样式 
					position : pos,
					top : top
				}).removeClass("shadow");//移除阴影样式.shadow 
			}
		});
	};
	return $(this).each(function() {
		position($(this));
	});
};

